---
title: Windows 8 - Far from perfect
categories:
  - Hack
tags:
  - Hack
permalink: Windows-8-Far-From-Perfect
---

<p>Recently I spent a few days in investigating Metro App (AKA immersive UI) development, I downloaded &amp; installed VS 2011 Ultimate, watched couple of videos talking about <a href="http://channel9.msdn.com/Events/BUILD/BUILD2011/PLAT-875T" target="_blank">WinRT</a>, <a href="http://channel9.msdn.com/Events/BUILD/BUILD2011/APP-409T" target="_blank">Metro App life cycle</a>, <a href="http://channel9.msdn.com/Events/BUILD/BUILD2011/APP-396T" target="_blank">Living tiles &amp; Notifications</a>, etc. So far, I've encountered many many issues... I had to say:&nbsp;<strong>Windows 8 - Long Way to go</strong><img style="background-image: url('http://wayneye.com/Images/winLiveEmotions.gif'); background-position: -171px -0px; width: 19px; height: 19px;" src="http://wayneye.com/Images/invis.gif" alt="Smile" />.</p>
<p>Below are few examples.</p>
<h3>Metro App failed to got suspended</h3>
<p>This happened when Ben Srour&nbsp;was <a href="http://channel9.msdn.com/Events/BUILD/BUILD2011/APP-409T" target="_blank">doing the demo at Build conference</a>, I encountered, too. His walking arround was killing explorer process and relaunch it manually, I copied that and my app successfully got suspended (applauding...).</p>
<p><img title="Suspending issue" src="https://nrtjsq.bay.livefilestore.com/y1p_9E_Kz1V9fXhZZLZ38n20QpNPN9fbjOSP8hJNPFB3GN0WetAWKNJI6UsCFDOjt7mfYZ0FwR5zhD_YyJTT-EFSAOgizHWn7A7/Suspend.png?psid=1" alt="Suspending issue" width="481" height="361" /></p>
<p>From a blackbox point of view, I guess this might be a bug: explorer process failed to suspend metro apps that deployed after process.exe itself.</p>
<h3>Obvious library code defect</h3>
<p>Code snippet below is copied from <code>WinJS.IOHelper.existsFar from</code>&nbsp;- <a href="http://msdn.microsoft.com/en-us/library/windows/apps/br211700.aspx" target="_blank">MSDN link</a>.&nbsp;</p>
<pre class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"> <span style="color: #f6f3e8;">exists</span><span style="color: #f6f3e8;">:</span> <span style="color: #8ac6f2;">function</span> (<span style="color: #f6f3e8;">fileName</span>) <span style="color: #f6f3e8;">{</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">return</span> <span style="color: #8ac6f2;">this</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">folder</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">getFileAsync</span>(<span style="color: #f6f3e8;">fileName</span><span style="color: #f6f3e8;">).</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #f6f3e8;">then</span>(<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">function</span> () <span style="color: #f6f3e8;">{</span> <span style="color: #8ac6f2;">return</span> <span style="color: #8ac6f2;">true</span>; <span style="color: #f6f3e8;">},</span> <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">function</span> () <span style="color: #f6f3e8;">{</span> <span style="color: #8ac6f2;">return</span> <span style="color: #8ac6f2;">false</span>; <span style="color: #f6f3e8;">}</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<br /> <span style="color: #f6f3e8;">},</span></pre>
<p>What happend? When I call <code>var fileExisted = IOHelper.exists("FileName.extention");</code> and the given file does not exists, exception will be thrown inside exists method's inside -&gt; <code>getFileAsync</code>, in which essentially grabs a thread from ThreadPool and does an async IO, FileNotFound exception was thrown at that thread and can be caught by VS debugger, however Metro app will not got affected. This drove me crazy and so far I didn't find a walk arround, I think this is a bug in wwaapp.js version 0.5<strong>.</strong></p>
<h3>Inconsistent between code and documentaiton</h3>
<p>In the Dev Center documentation it clearly claims how to specify your own rules inside&nbsp;<code>ApplicationContentUriRules</code> node.</p>
<pre class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"> <span style="color: #e5786d;">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br /> <span style="color: #8ac6f2;">&lt;Package</span> <span style="color: #cae682;">xmlns=</span><span style="color: #95e454; font-style: italic;">"http://schemas.microsoft.com/appx/2010/manifest"</span><span style="color: #8ac6f2;">&gt;</span><br /> <br /> &nbsp; <span style="color: #99968b; font-style: italic;">&lt;!-- Code has been omitted. --&gt;</span><br /> <br /> &nbsp; <span style="color: #8ac6f2;">&lt;Applications&gt;</span><br /> &nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">&lt;Application</span> <span style="color: #cae682;">Id=</span><span style="color: #95e454; font-style: italic;">"MyApp"</span> <span style="color: #cae682;">StartPage=</span><span style="color: #95e454; font-style: italic;">"default.html"</span><span style="color: #8ac6f2;">&gt;</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">&lt;VisualElements&gt;</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">&lt;/VisualElements&gt;</span><br /> <br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">&lt;ApplicationContentUriRules&gt;</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">&lt;Rule</span> <span style="color: #cae682;">Match=</span><span style="color: #95e454; font-style: italic;">"http://*.bing.com/*"</span> <span style="color: #cae682;">Type=</span><span style="color: #95e454; font-style: italic;">"include"</span><span style="color: #8ac6f2;">/&gt;</span><br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">&lt;/ApplicationContentUriRules&gt;</span><br /> <br /> &nbsp;&nbsp;&nbsp; <span style="color: #8ac6f2;">&lt;/Application&gt;</span><br /> &nbsp; <span style="color: #8ac6f2;">&lt;/Applications&gt;</span><br /> <br /> <span style="color: #8ac6f2;">&lt;/Package&gt;</span></pre>
<p>Whereas when I tried that I saw below (click to enlarge):<br /><a title="Click to enlarge" href="https://nrtjsq.bay.livefilestore.com/y1pKL_opBrLzG_qbz1Gyn6MB8dTlIrYxfLcjpf-GFqXyKq132MulAlsjSt08DKjZsPCOLrFw2fqLMSr_zoBEq8wOPsALbwQwKYG/ApplicationContentUris.png?psid=1" target="_blank"><img title="Click to enlarge" src="https://nrtjsq.bay.livefilestore.com/y1pKL_opBrLzG_qbz1Gyn6MB8dTlIrYxfLcjpf-GFqXyKq132MulAlsjSt08DKjZsPCOLrFw2fqLMSr_zoBEq8wOPsALbwQwKYG/ApplicationContentUris.png?psid=1" alt="URIRules" width="640" height="144" /></a>&nbsp;</p>
<h3>Living tiles does not got updated</h3>
<p>This happened in <a href="http://channel9.msdn.com/Events/BUILD/BUILD2011/APP-396T" target="_blank">Kip Olson's demo at build conference</a>, it was&nbsp;embarrassing. for me, I haven't found a way to get it work so far.</p>
<h3>wwahost.exe hang/refused to work</h3>
<p>This happened many times<img style="background-image: url('http://wayneye.com/Images/winLiveEmotions.gif'); background-position: -171px -0px; width: 19px; height: 19px;" src="http://wayneye.com/Images/invis.gif" alt="Smile" />... Every time it refused to work, many metro apps cannot runany more.</p>
<h3>To be continued</h3>
<p>I want to say, those are not my complaints, if I don't like it, I won't wast my time on it. The truth is, Windows 8 will be the <strong>most revolutionary OS</strong> from Microsoft after Windows 95, it <a href="http://www.pcworld.com/businesscenter/article/230984/how_windows_8_could_change_everything.html" target="_blank">will change everything</a>. I hope so and I believe in it! However, again, there is long way to go<img style="background-image: url('http://wayneye.com/Images/winLiveEmotions.gif'); background-position: -0px -0px; width: 19px; height: 19px;" src="http://wayneye.com/Images/invis.gif" alt="Smile" />.</p>
