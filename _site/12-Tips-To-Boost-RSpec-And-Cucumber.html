<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.3 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>12 tips to boost RSpect and Cucumber - Wayne’s Geek Life</title>
<meta name="description" content="In our daily TDD/BDD work, we spent most of our time in test cases, we analyze requirements, write test case, run it and watch it fail, implement code to make the test pass, repeat the process &quot;until money runs out&quot;. Thus the speed of running those test cases have significant impact on a team&#39;s performance, ! You can&#39;t tolerance writing a test case, waiting 1 minute finish; You can&#39;t tolerance CI finishes running all RSpec/Cucumber tests for half an hour! I can&#39;t! So I motivated to improve this!The result">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Wayne's Geek Life">
<meta property="og:title" content="12 tips to boost RSpect and Cucumber">
<meta property="og:url" content="https://wayneye.com/12-Tips-To-Boost-RSpec-And-Cucumber">


  <meta property="og:description" content="In our daily TDD/BDD work, we spent most of our time in test cases, we analyze requirements, write test case, run it and watch it fail, implement code to make the test pass, repeat the process &quot;until money runs out&quot;. Thus the speed of running those test cases have significant impact on a team&#39;s performance, ! You can&#39;t tolerance writing a test case, waiting 1 minute finish; You can&#39;t tolerance CI finishes running all RSpec/Cucumber tests for half an hour! I can&#39;t! So I motivated to improve this!The result">





  <meta name="twitter:site" content="@wayneye">
  <meta name="twitter:title" content="12 tips to boost RSpect and Cucumber">
  <meta name="twitter:description" content="In our daily TDD/BDD work, we spent most of our time in test cases, we analyze requirements, write test case, run it and watch it fail, implement code to make the test pass, repeat the process &quot;until money runs out&quot;. Thus the speed of running those test cases have significant impact on a team&#39;s performance, ! You can&#39;t tolerance writing a test case, waiting 1 minute finish; You can&#39;t tolerance CI finishes running all RSpec/Cucumber tests for half an hour! I can&#39;t! So I motivated to improve this!The result">
  <meta name="twitter:url" content="https://wayneye.com/12-Tips-To-Boost-RSpec-And-Cucumber">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2012-11-09T00:00:00+08:00">





  

  
    <meta property="fb:app_id" content="374223339969060">
  


<link rel="canonical" href="https://wayneye.com/12-Tips-To-Boost-RSpec-And-Cucumber">













<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Wayne's Geek Life Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/images/favicon/site.webmanifest">
<link rel="mask-icon" href="/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">Wayne's Geek Life</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/search/" >Search</a>
            </li><li class="masthead__menu-item">
              <a href="/gallery/" >Gallery</a>
            </li><li class="masthead__menu-item">
              <a href="/about/" >About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/me.jpg" alt="Wayne Ye" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Wayne Ye</h3>
    
    
      <p class="author__bio" itemprop="description">
        Whatever is worth doing is worth doing well!
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">San Francisco</span>
        </li>
      

      
        
          
            <li><a href="mailto:me@wayneye.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
          
        
          
            <li><a href="https://wayneye.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
          
        
          
            <li><a href="https://twitter.com/wayneye" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
          
        
          
            <li><a href="https://facebook.com/WayneYeDotCom" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
          
        
          
            <li><a href="https://github.com/WayneYe/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="12 tips to boost RSpect and Cucumber">
    <meta itemprop="description" content="In our daily TDD/BDD work, we spent most of our time in test cases, we analyze requirements, write test case, run it and watch it fail, implement code to make the test pass, repeat the process &quot;until money runs out&quot;. Thus the speed of running those test cases have significant impact on a team&#39;s performance, ! You can&#39;t tolerance writing a test case, waiting 1 minute finish; You can&#39;t tolerance CI finishes running all RSpec/Cucumber tests for half an hour! I can&#39;t! So I motivated to improve this!The result">
    <meta itemprop="datePublished" content="November 09, 2012">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">12 tips to boost RSpect and Cucumber
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-cog"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#">The result</a></li>
  <li><a href="#">Use Spork</a></li>
  <li><a href="#">GC tuning for Ruby Enterprise Edition</a></li>
  <li><a href="#">Deferred GC</a></li>
  <li><a href="#">Increase log level to reduce IO</a></li>
  <li><a href="#">Reduce Devise.streches</a></li>
  <li><a href="#">Mock real HTTP requests</a></li>
  <li><a href="#">Force ActiveRecord to use one shared connection instance</a></li>
  <li><a href="#">Parallel testing</a></li>
  <li><a href="#">Force ActiveRecord to use one shared connection instance</a></li>
  <li><a href="#">QuickerClip</a></li>
  <li><a href="#">In-Memory DB or even no DB</a></li>
  <li><a href="#">Be Organized</a></li>
  <li><a href="#">Conclusion</a></li>
</ul>
            </nav>
          </aside>
        
        <p>In our daily TDD/BDD work, we spent most of our time in test cases, we analyze requirements, write test case, run it and watch it fail, implement code to make the test pass, repeat the process "until money runs out". Thus the speed of running those test cases have <strong>significant impact on a team's performance</strong>, ! You can't tolerance writing a test case, waiting 1 minute finish; You can't tolerance CI finishes running all RSpec/Cucumber tests for half an hour! <strong>I can't!</strong> So I motivated to improve this!</p>
<h3>The result</h3>
<!--more-->
<p>In the project I was working on there are 1566 RSpec examples for all models, after I applied most tips appropriate for out project, the result below is a comparison before and after boosting, the command is:</p>
<p><code> <strong>time bundle exec rspec spec/models</strong> </code></p>
<p>Before boost: <img alt="Before boost" src="https://03zsfg.bn1.livefilestore.com/y1pam_er-_HsKcNOv2BK0ojU84jLCZgI14ZKNfWhcpjLFb_yKOxrM9cEuvHCIVNljW9GnJEKytG0UsyQFg1svvx5w4LS5iuZ2yh/RSpec%20-%20Before%20%20boost.png?psid=1" /> After boost: <img alt="After boost" src="https://03zsfg.bn1.livefilestore.com/y1pshW_P5ROhKQ6dLA3Z8m2JORXrKXzyb7zP45Gc1AT_4QXkzL5Snlbj_oe5iq6hYf_YOAWbyWGsvgmQxz1goVO5ceo0FmWIl0Z/RSpec%20-%20After%20boost.png?psid=1" /></p>
<p>One minute and 8 seconds are saved after the boost!!! And it is only part of our all RSpect test, we definitely have tests for controllers, views, libs, etc., a <strong>50.3% improvement</strong>!</p>
<p>To be honest from the beginning I admit I don't have too much confident I can make things better, until I saw this presentation: <a href="http://grease-your-suite.heroku.com">Grease your suite</a> which surprised, inspired and encouraged me quite a lot! I did two whole days research and summarized 12 super useful tips for speeding up the RSpec/Cucumber tests!</p>
<h3>Use Spork</h3>
<p>Spork has two major advantages:</p>
<ol>
<li>It hosts a <a href="http://segment7.net/projects/ruby/drb/introduction.html">DRB server</a> and pre-load Rails environment into the server instance, after that all further running tests can communicate with the DRB server thus no need to reload Rails environment every time! Much faster than common way!</li>
<li>It forks (using <a href="http://apidock.com/ruby/Kernel/fork">Kernel.fork</a>) a copy of server each time we run our tests, thus ensure a clean state between each other.</li>
</ol>
<p>My real experience is it is awesome! I wrote a few line of code and I run the test, I can see the result in much shorter time than before! BDD development in daily work becomes more enjoyable, less frustration when waiting for slow tests times and times. Trust me, once you get used to it you'll never wanna fall back to the old slow way!</p>
<p>Spork resources</p>
<ul>
<li><a href="http://railscasts.com/episodes/285-spork">Spork on Ruby Forge</a></li>
<li><a href="http://railscasts.com/episodes/285-spork">Spork repo@Github</a></li>
<li><a href="http://railscasts.com/episodes/285-spork">RailsCast video for Spork</a></li>
</ul>
<h3>GC tuning for Ruby Enterprise Edition</h3>
<p>Before getting into the detailed tuning option I would like to review a few important points:</p>
<ul>
<li>Unlike many famous <a href="http://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">GC</a> implementations like JVM, CLR and <a href="http://en.wikipedia.org/wiki/V8_(JavaScript_engine)">V8</a>, Ruby's GC it <strong>not generational</strong>, which means it need scan ALL object to verify whether it is reachable.</li>
<li>Every time GC decides to collect (used out pre-allocated memory typically), it will suspend all running thread and claim the resource, after that it resume all thread, this process takes 10% of CPU by average and cost a few hundred milliseconds (sometimes hundreds of)!</li>
<li>Ruby's default GC settings are not optimized for Rails application, the settings can be modified for Ruby Enterprise Edition (REE).</li>
</ul>
<p>By reading <a href="http://www.rubyenterpriseedition.com/documentation.html#_garbage_collector_and_object_space">the official documentation</a>, we got the following optimizable options:</p>
<ul>
<li><code>RUBY_HEAP_MIN_SLOTS</code><br /> This specifies the initial number of heap slots. The default is 10000.</li>
<li><code>RUBY_HEAP_SLOTS_INCREMENT</code><br /> The number of additional heap slots to allocate when Ruby needs to allocate new heap slots for the first time. The default is 10000. For example, suppose that the default GC settings are in effect, and 10000 Ruby objects exist on the heap (= 10000 used heap slots). When the program creates another object, Ruby will allocate a new heap with 10000 heap slots in it. There are now 20000 heap slots in total, of which 10001 are used and 9999 are unused.</li>
<li><code>RUBY_HEAP_SLOTS_GROWTH_FACTOR</code><br /> Multiplicator used for calculating the number of new heaps slots to allocate next time Ruby needs new heap slots. The default is 1.8. Take the program in the last example. Suppose that the program creates 10000 more objects. Upon creating the 10000th object, Ruby needs to allocate another heap. This heap will have 10000 * 1.8 = 18000 heap slots. There are now 20000 + 18000 = 38000 heap slots in total, of which 20001 are used and 17999 are unused. The next time Ruby needs to allocate a new heap, that heap will have 18000 * 1.8 = 32400 heap slots.</li>
<li><code>RUBY_GC_MALLOC_LIMIT</code><br /> The amount of C data structures which can be allocated without triggering a garbage collection. If this is set too low, then the garbage collector will be started even if there are empty heap slots available. The default value is 8000000.</li>
<li><code>RUBY_HEAP_FREE_MIN</code><br /> The number of heap slots that should be available after a garbage collector run. If fewer heap slots are available, then Ruby will allocate a new heap according to the RUBY_HEAP_SLOTS_INCREMENT and RUBY_HEAP_SLOTS_GROWTH_FACTOR parameters. The default value is 4096.</li>
</ul>
<p>We can reference Twitter's GC tuning options below used in their production:</p>
<blockquote>RUBY_HEAP_MIN_SLOTS=500000<br /> RUBY_HEAP_SLOTS_INCREMENT=250000<br /> RUBY_HEAP_SLOTS_GROWTH_FACTOR=1<br /> RUBY_GC_MALLOC_LIMIT=50000000</blockquote>
<p>Twitter&rsquo;s settings mean: Start with enough memory to hold the application (Ruby&rsquo;s default is very low, lower than what a Rails application typically needs). Increase it linearly if you need more (Ruby&rsquo;s default is exponential increase). Only garbage-collect every 50 million malloc calls (Ruby&rsquo;s default is 6x smaller). The expert who did <a href="http://grease-your-suite.heroku.com">the PPT on Heroku I mentioned above</a>recommended the following options:</p>
<blockquote>export RUBY_HEAP_MIN_SLOTS=1000000<br /> export RUBY_HEAP_SLOTS_INCREMENT=1000000<br /> export RUBY_HEAP_SLOTS_GROWTH_FACTOR=1<br /> export RUBY_GC_MALLOC_LIMIT=1000000000<br /> export RUBY_HEAP_FREE_MIN=500000</blockquote>
<p>How to enable the GC options above? Personally I store those values in my .rvmrc file under project folder, you can export them in other places. And please notice the option values above are for your reference, might not quite appropriate for every concrete project, how to set those options suitable for your real project can be determined by on a simple rule: <strong>better settings makes less times of GC running</strong>. I wrote the following code in spec_helper.rb to display how many times GC runs and how much time it cost in total after running given tests examples.</p>
<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"><span style="color: #e5786d;">RSpec</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">configure</span> <span style="color: #8ac6f2;">do</span> |<span style="color: #f6f3e8;">config</span>|<br /> &nbsp;<span style="color: #f6f3e8;">config</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">before</span>(<span style="color: #95e454; font-style: italic;">:suite</span>) <span style="color: #8ac6f2;">do</span><br /> &nbsp; &nbsp;<span style="color: #e5786d;">GC</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">enable_stats</span><br /> &nbsp;<span style="color: #8ac6f2;">end</span><br /> &nbsp;<span style="color: #f6f3e8;">config</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">after</span>(<span style="color: #95e454; font-style: italic;">:suite</span>) <span style="color: #8ac6f2;">do</span><br /> &nbsp; &nbsp;<span style="color: #f6f3e8;">puts</span> <span style="color: #95e454; font-style: italic;">"</span><span style="color: #95e454; font-style: italic;">\n</span><span style="color: #95e454; font-style: italic;">"</span><br /> &nbsp; &nbsp;<span style="color: #f6f3e8;">puts</span> <span style="color: #95e454; font-style: italic;">"********GC STATUS SUMMARY AFTER ALL TESTS FINISHED********"</span><br /> &nbsp; &nbsp;<span style="color: #f6f3e8;">puts</span> <span style="color: #95e454; font-style: italic;">"GC has done </span><span style="color: #95e454; font-style: italic;">#{</span><span style="color: #e5786d;">GC</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">collections</span><span style="color: #95e454; font-style: italic;">}</span><span style="color: #95e454; font-style: italic;"> times collections!"</span><br /> &nbsp; &nbsp;<span style="color: #f6f3e8;">puts</span> <span style="color: #95e454; font-style: italic;">"Total time spent in GC collections: </span><span style="color: #95e454; font-style: italic;">#{</span><span style="color: #e5786d;">GC</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">time</span><span style="color: #95e454; font-style: italic;">}</span><span style="color: #95e454; font-style: italic;">!"</span><br /> &nbsp; &nbsp;<span style="color: #e5786d;">GC</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">disable_stats</span><br /> &nbsp;<span style="color: #8ac6f2;">end</span><br /><span style="color: #8ac6f2;">end</span></div>
<p>The sample output of GC stats after running 360 examples:<br /> <img alt="GC stats after spec run" src="https://03zsfg.bn1.livefilestore.com/y1p7twr-NJrH2Bh3jlDC45CgWd3RkDh-J_kbfwU13rwePElrwo8sQZR7-Q0fhXv_UJIAdg80PpvjMANjnc8ZHUr5lvLwb65goh4/Display%20GC%20stats.png?psid=1" /></p>
<p>More resources on Ruby GC tuning:</p>
<ul>
<li><a href="http://www.rubyenterpriseedition.com/documentation.html#_garbage_collector_and_object_space">Garbage collector performance tuning - REE official documentation</a></li>
<li><a href="http://engineering.twitter.com/2011/03/building-faster-ruby-garbage-collector.html">Twitter blog - Building a Faster Ruby Garbage Collector</a></li>
<li><a href="https://en.wikibooks.org/wiki/Ruby_Programming/Reference/Objects/GC">Ruby Programming/Reference/Objects/GC</a></li>
<li><a href="http://blog.evanweaver.com/2009/04/09/ruby-gc-tuning/">Ruby GC Tuning</a></li>
<li><a href="http://snaprails.tumblr.com/post/241746095/rubys-gc-configuration">Ruby&rsquo;s GC Configuration</a></li>
<li><a href="http://stackoverflow.com/questions/1011460/what-makes-ruby-slow">What makes Ruby slow?</a></li>
</ul>
<h3>Deferred GC</h3>
<p>Other than adjusting GC tuning options we can also deffer GC runs! Create a file under spec/support/deferred_garbage_collection.rb and paste code below:</p>
<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"><span style="color: #8ac6f2;">class</span> <span style="color: #f6f3e8;">DeferredGarbageCollection</span><br /><br /> &nbsp;<span style="color: #e5786d;">DEFERRED_GC_THRESHOLD</span> <span style="color: #f6f3e8;">=</span> (<span style="color: #e5786d;">ENV</span><span style="color: #f6f3e8;">[</span><span style="color: #95e454; font-style: italic;">'DEFER_GC'</span><span style="color: #f6f3e8;">]</span> || <span style="color: #e5786d;">15</span><span style="color: #f6f3e8;">.</span><span style="color: #e5786d;">0</span>)<span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">to_f</span><br /><br /> &nbsp;<span style="color: #cae682;">@@last_gc_run</span> <span style="color: #f6f3e8;">=</span> <span style="color: #e5786d;">Time</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">now</span><br /><br /> &nbsp;<span style="color: #8ac6f2;">def</span> <span style="color: #f6f3e8;">self</span><span style="color: #f6f3e8;">.</span><span style="color: #cae682;">start</span><br /> &nbsp; &nbsp;<span style="color: #e5786d;">GC</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">disable</span> <span style="color: #8ac6f2;">if</span> <span style="color: #e5786d;">DEFERRED_GC_THRESHOLD</span> <span style="color: #f6f3e8;">&gt;</span> <span style="color: #e5786d;">0</span><br /> &nbsp;<span style="color: #8ac6f2;">end</span><br /><br /> &nbsp;<span style="color: #8ac6f2;">def</span> <span style="color: #f6f3e8;">self</span><span style="color: #f6f3e8;">.</span><span style="color: #cae682;">reconsider</span><br /> &nbsp; &nbsp;<span style="color: #8ac6f2;">if</span> <span style="color: #e5786d;">DEFERRED_GC_THRESHOLD</span> <span style="color: #f6f3e8;">&gt;</span> <span style="color: #e5786d;">0</span> <span style="color: #f6f3e8;">&amp;&amp;</span> <span style="color: #e5786d;">Time</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">now</span> <span style="color: #f6f3e8;">-</span> <span style="color: #cae682;">@@last_gc_run</span> <span style="color: #f6f3e8;">&gt;=</span> <span style="color: #e5786d;">DEFERRED_GC_THRESHOLD</span><br /> &nbsp; &nbsp; &nbsp;<span style="color: #e5786d;">GC</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">enable</span><br /> &nbsp; &nbsp; &nbsp;<span style="color: #e5786d;">GC</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">start</span><br /> &nbsp; &nbsp; &nbsp;<span style="color: #e5786d;">GC</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">disable</span><br /> &nbsp; &nbsp; &nbsp;<span style="color: #cae682;">@@last_gc_run</span> <span style="color: #f6f3e8;">=</span> <span style="color: #e5786d;">Time</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">now</span><br /> &nbsp; &nbsp;<span style="color: #8ac6f2;">end</span><br /> &nbsp;<span style="color: #8ac6f2;">end</span><br /><span style="color: #8ac6f2;">end</span></div>
<p>Refer: <a href="http://ariejan.net/2011/09/24/rspec-speed-up-by-tweaking-ruby-garbage-collection">RSpec speed-up (24.6%) by tweaking ruby garbage collection</a></p>
<h3>Increase log level to reduce IO</h3>
<p>By default in Rails development/test environment the <a href="http://guides.rubyonrails.org/debugging_rails_applications.html#log-levels">logger's level</a> is 0 which means <code>:debug</code>, however, most of the time we don't need verbose information flushed into log file, we can absolutely increase the log level to reduce IO! Setting it to 3 (:error) would be best IMHO, there is no redandunt information but still be able to trace failed tests.</p>
<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"><span style="color: #e5786d;">Rails</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">logger</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">level</span> <span style="color: #f6f3e8;">=</span> <span style="color: #e5786d;">3</span></div>
<h3>Reduce Devise.streches</h3>
<p>Reduce Devise.streches can improve Bcrypt performance, because we don't need strong encryption during testing, the default value is 10, we can set it to 1 in test environment.</p>
<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"><span style="color: #e5786d;">Devise</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">stretches</span> <span style="color: #f6f3e8;">=</span> <span style="color: #e5786d;">1</span></div>
<h3>Mock real HTTP requests</h3>
<p>Real HTTP requests can vastly slower down your tests, unless you explicitly want to "test" the request (usually in integration testing), you should mock it to isolate your testing "target" and focus on the behavior of your code.</p>
<p><a href="https://github.com/bblimke/webmock">WebMock</a> stubs HTTP requests at low Net::HTTP level so there is no need to change any of your tests, by default it disables all real HTTP requests, you can register requests you want to test to cross the wall, or you can put <code>WebMock.allow_net_connect!</code>at your spec_helper.rb for RSpec or env.rb for Cucumber, personally I don't quite suggest allow all requests at a high level, because sometimes unobtrusive HTTP request happens and it is not easy to discover by just reviewing the code, for example:</p>
<ul>
<li>You call a property getter on module A, but the getter method was delegated to module B, and inside the real implementation in module B it submits request to remote.</li>
<li>When you call ActiveRecord::Validations.valid?, all the validation callbacks will be invoked, and some of them probably have relationship with other modules, unfortunately "other modules" are retrieved from remote!</li>
</ul>
<p>So if you disable all the real requests in testing (by default when using WebMock), those unobtrusive request can be easily found out.</p>
<h3>Force ActiveRecord to use one shared connection instance</h3>
<p>We are Capybara with JavaScript testing, when Capybara runs, it start two processes, one for hosting the server and another invokes underline web driver to communicate with real browser, this results in config.use_transactional_fixtures = true not robust since in RoR transaction works on one DB connection instance! So this enhancement forces using one shared connection when running Capybara, and this improves performance a little bit as well.</p>
<p>Put the following code in spec_helper.rb and env.rb:</p>
<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"><span style="color: #8ac6f2;">class</span> <span style="color: #f6f3e8;">ActiveRecord</span><span style="color: #f6f3e8;">::</span><span style="color: #e5786d;">Base</span><br /> <span style="color: #f6f3e8;">mattr_accessor</span> <span style="color: #95e454; font-style: italic;">:shared_connection</span><br /> <span style="color: #cae682;">@@shared_connection</span> <span style="color: #f6f3e8;">=</span> <span style="color: #8ac6f2;">nil</span><br /><br /> <span style="color: #8ac6f2;">def</span> <span style="color: #f6f3e8;">self</span><span style="color: #f6f3e8;">.</span><span style="color: #cae682;">connection</span><br /> &nbsp; <span style="color: #cae682;">@@shared_connection</span> || <span style="color: #f6f3e8;">retrieve_connection</span><br /> <span style="color: #8ac6f2;">end</span><br /><span style="color: #8ac6f2;">end</span><br /><span style="color: #e5786d;">ActiveRecord</span><span style="color: #f6f3e8;">::</span><span style="color: #e5786d;">Base</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">shared_connection</span> <span style="color: #f6f3e8;">=</span> <span style="color: #e5786d;">ActiveRecord</span><span style="color: #f6f3e8;">::</span><span style="color: #e5786d;">Base</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">connection</span></div>
<h3>Parallel testing</h3>
<p>Run tests in multi CPU cores in parallel is extremely powerful, on a four-core Intel i7 processor with hyper-threading enabled, <a href="https://github.com/grosser/parallel_tests">parallel_tests</a> can kick-off 8 processes to run test separately on each core, in the idea situation it could reduce time cost down to 50%, and the more case you run in parallel, the more dramatical differences you will get.</p>
<p>However there are couple of things we need aware:</p>
<ol>
<li>It won't reduce the total time comparing to single process if there are hundreds of local DB operations in the test!</li>
<li>Process in OS level is very expansive, using 8 processes to deal with 50 examples might not be wise, time cost during processes' life cycle will neutralize the time saved in parallel manner! Considering use traditional way to save some electricity:)</li>
</ol>
<h3>Force ActiveRecord to use one shared connection instance</h3>
<p>If you are Capybara with JavaScript testing, you should know when Capybara runs, it start two threads, one for hosting the server and another invokes underline web driver to communicate with real browser, this results in <code>use_transactional_fixtures</code> not robust since in RoR transaction works on one DB connection instance! So this enhancement forces using one shared connection when running Capybara, and this improves performance a little bit as well.</p>
<p>Put the following code in spec_helper.rb and env.rb:</p>
<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"><span style="color: #8ac6f2;">class</span> <span style="color: #f6f3e8;">ActiveRecord</span><span style="color: #f6f3e8;">::</span><span style="color: #e5786d;">Base</span><br /> &nbsp;<span style="color: #f6f3e8;">mattr_accessor</span> <span style="color: #95e454; font-style: italic;">:shared_connection</span><br /> &nbsp;<span style="color: #cae682;">@@shared_connection</span> <span style="color: #f6f3e8;">=</span> <span style="color: #8ac6f2;">nil</span><br /> <br /> &nbsp;<span style="color: #8ac6f2;">def</span> <span style="color: #f6f3e8;">self</span><span style="color: #f6f3e8;">.</span><span style="color: #cae682;">connection</span><br /> &nbsp; &nbsp;<span style="color: #cae682;">@@shared_connection</span> || <span style="color: #f6f3e8;">retrieve_connection</span><br /> &nbsp;<span style="color: #8ac6f2;">end</span><br /><span style="color: #8ac6f2;">end</span><br /><span style="color: #e5786d;">ActiveRecord</span><span style="color: #f6f3e8;">::</span><span style="color: #e5786d;">Base</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">shared_connection</span> <span style="color: #f6f3e8;">=</span> <span style="color: #e5786d;">ActiveRecord</span><span style="color: #f6f3e8;">::</span><span style="color: #e5786d;">Base</span><span style="color: #f6f3e8;">.</span><span style="color: #f6f3e8;">connection</span></div>
<h3>QuickerClip</h3>
<p>Many Rails application uses the famous image processing library <a href="https://github.com/thoughtbot/paperclip">PaperClip</a>, it uses libraries of <a href="www.imagemagick.org/">ImageMagick</a>, they are all great libraries, but the problem for us is we don't want to really invoke them during test in most of the time, testing functionalities in those third party library makes no sense for your project, we should isolate it and focus on our own business logics.</p>
<p>Add following line into test.rb, it will avoid invoking real ImageMagick command thus significantly improve tests related with PaperClip.</p>
<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"><span style="color: #8ac6f2;">module</span> <span style="color: #f6f3e8;">Paperclip</span><br /> &nbsp;<span style="color: #8ac6f2;">def</span> <span style="color: #f6f3e8;">self</span><span style="color: #f6f3e8;">.</span><span style="color: #cae682;">run</span> <span style="color: #f6f3e8;">cmd</span><span style="color: #f6f3e8;">,</span> <span style="color: #f6f3e8;">params</span> <span style="color: #f6f3e8;">=</span> <span style="color: #95e454; font-style: italic;">""</span><span style="color: #f6f3e8;">,</span> <span style="color: #f6f3e8;">expected_outcodes</span> <span style="color: #f6f3e8;">=</span> <span style="color: #e5786d;">0</span><br /> &nbsp; &nbsp;<span style="color: #8ac6f2;">case</span> <span style="color: #f6f3e8;">cmd</span><br /> &nbsp; &nbsp;<span style="color: #8ac6f2;">when</span> <span style="color: #95e454; font-style: italic;">"identify"</span><br /> &nbsp; &nbsp; &nbsp;<span style="color: #8ac6f2;">return</span> <span style="color: #95e454; font-style: italic;">"100x100"</span><br /> &nbsp; &nbsp;<span style="color: #8ac6f2;">when</span> <span style="color: #95e454; font-style: italic;">"convert"</span><br /> &nbsp; &nbsp; &nbsp;<span style="color: #8ac6f2;">return</span><br /> &nbsp; &nbsp;<span style="color: #8ac6f2;">else</span><br /> &nbsp; &nbsp; &nbsp;<span style="color: #8ac6f2;">super</span><br /> &nbsp; &nbsp;<span style="color: #8ac6f2;">end</span><br /> &nbsp;<span style="color: #8ac6f2;">end</span><br /><span style="color: #8ac6f2;">end</span><br /><br /><span style="color: #8ac6f2;">class</span> <span style="color: #f6f3e8;">Paperclip</span><span style="color: #f6f3e8;">::</span><span style="color: #e5786d;">Attachment</span><br /> &nbsp;<span style="color: #8ac6f2;">def</span> <span style="color: #cae682;">post_process</span><br /> &nbsp;<span style="color: #8ac6f2;">end</span><br /><span style="color: #8ac6f2;">end</span></div>
<p>Origin: <a href="http://pivotallabs.com/users/rolson/blog/articles/1249-stubbing-out-paperclip-imagemagick-in-tests">Stubbing out Paperclip/ImageMagick in Tests</a></p>
<h3>In-Memory DB or even no DB</h3>
<p>We can use an in-memory DB for testing environment would be sweet, because there is no need to persistent. We do have a lot of choices of in-memory DB for example:</p>
<ul>
<li><a href="http://dev.mysql.com/doc/refman/5.0/en/memory-storage-engine.html">MySQL</a></li>
<li><a href="http://www.sqlite.org/inmemorydb.html">SQLite</a></li>
<li><a href="http://rhaas.blogspot.com/2010/06/postgresql-as-in-memory-only-database_24.html">PostgreSQL</a></li>
<li>And many...</li>
</ul>
<p>More resources on this <br /> <a href="www.osmonov.com/2011/01/in-memory-sqlite-database-for-testing.html">In memory SQlite database for testing</a> <a href="http://stackoverflow.com/questions/5378568/rspec-cucumber-best-speed-database-clean-strategy">Rspec, Cucumber: best speed database clean strategy</a></p>
<p>Actually in idea situation, we can consider adopting "<strong>No Database strategy</strong>" for our tests! Refer <a href="https://github.com/dan-manges/unit-record">UnitRecord</a>for reference and see how fast the author did!</p>
<blockquote>Finished in 19.302702 seconds.<br /> 4920 tests, 7878 assertions, 0 failures, 0 errors</blockquote>
<h3>Be Organized</h3>
<p>This is the last tip for testing performance, unlike above tips/techniques: it is non-technical, however it is probably <strong>the most important one</strong>!</p>
<ol>
<li>More unit tests, less integration tests. KISS principle also suitable for tests. Usually integrations test has dependencies on external resources (database, web service, message queue or IO), I'd prefer <strong>running unit tests locally and integration tests cloud CI (usually faster than local)</strong>, keep your local development responsive!</li>
<li>Use tags to identify test's attribute (use RSpec as an example Cucumber is similar), for example:<br />
<div class="source" style="font-family: Consolas, 'Lucida Console', 'Courier New'; color: #f6f3e8; background-color: #242424;"><span style="color: #f6f3e8;">it</span> <span style="color: #95e454; font-style: italic;">"Display login page"</span><span style="color: #f6f3e8;">,</span> <span style="color: #95e454; font-style: italic;">:mandatory</span> <span style="color: #f6f3e8;">=&gt;</span> <span style="color: #8ac6f2;">true</span> <span style="color: #8ac6f2;">do</span>; <span style="color: #8ac6f2;">end</span><br /><span style="color: #f6f3e8;">it</span> <span style="color: #95e454; font-style: italic;">"Redirect to homepage"</span><span style="color: #f6f3e8;">,</span> <span style="color: #95e454; font-style: italic;">:speed</span> <span style="color: #f6f3e8;">=&gt;</span> <span style="color: #95e454; font-style: italic;">'fast'</span> <span style="color: #8ac6f2;">do</span>; <span style="color: #8ac6f2;">end</span><br /><span style="color: #f6f3e8;">it</span> <span style="color: #95e454; font-style: italic;">"Show user profile page"</span><span style="color: #f6f3e8;">,</span> <span style="color: #95e454; font-style: italic;">:require_login</span> <span style="color: #f6f3e8;">=&gt;</span> <span style="color: #8ac6f2;">true</span> <span style="color: #8ac6f2;">do</span>; <span style="color: #8ac6f2;">end</span><br /><span style="color: #f6f3e8;">it</span> <span style="color: #95e454; font-style: italic;">"Retrieve user's twitts through Twitter API using OAuth"</span><span style="color: #f6f3e8;">,</span> <span style="color: #95e454; font-style: italic;">:speed</span> <span style="color: #f6f3e8;">=&gt;</span> <span style="color: #95e454; font-style: italic;">'slow'</span> <span style="color: #8ac6f2;">do</span>; <span style="color: #8ac6f2;">end</span></div>
<br />So that we can run filtered tests by: <br /> <code>rspec . --tag speed:'fast'</code><br /> <code>rspec . --tag mandatory:true</code></li>
</ol>
<h3>Conclusion</h3>
<p>Daily BDD/TDD with fast, "responsive" tests which can give you feedback in short time makes development life more enjoyable and happy, so does CI! The 12 tips above might not all suitable for your real project, but a number of them should do. If you didn't get a good result after boosting, run rspec with --profile/-p, RSpec will then track the top 10 slowest examples, for Cucumber pass "usage" as a output format will also reveal slowest step definitions.</p>
<p>Wish the tips help you!</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#hack" class="page__taxonomy-item" rel="tag">Hack</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#hack" class="page__taxonomy-item" rel="tag">Hack</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2012-11-09T00:00:00+08:00">November 09, 2012</time></p>
        
      </footer>

      <section class="page__share">
  <!---->
    <!--<h4 class="page__share-title">Share on</h4>-->
  <!---->

  <!--<a href="https://twitter.com/intent/tweet?via=wayneye&text=12+tips+to+boost+RSpect+and+Cucumber%20https%3A%2F%2Fwayneye.com%2F12-Tips-To-Boost-RSpec-And-Cucumber" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>-->

  <!--<a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwayneye.com%2F12-Tips-To-Boost-RSpec-And-Cucumber" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>-->

  <!--<a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwayneye.com%2F12-Tips-To-Boost-RSpec-And-Cucumber" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>-->

  
  <figure style="margin-top: 10px; width: 380px;">
      <a href="/assets/images/dashang.jpg"><img src="/assets/images/dashang.jpg" alt="微信打赏"></a>
  </figure>
</section>


      
  <nav class="pagination">
    
      <a href="/Observation-On-CDN" class="pagination--pager" title="Observation on CDN
">Previous</a>
    
    
      <a href="/Cache-Reverse-Proxy-nginx" class="pagination--pager" title="Cache Reverse Proxy - nginx
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a comment</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/Ireland-Trip-2019" rel="permalink">Ireland Trip 2019
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">
  WHEN YOU ARE OLD



  When you are old and grey and full of sleep, 
And nodding by the fire, take down this book, 
And slowly read, and dream of the soft look 
Your eyes had once, and of their shadows deep; 
How many loved your moments of glad grace, 
And loved your beauty with love false or true, 
But one man loved the pilgrim soul in you, 
And loved the sorrows of your changing face; 
And bending down beside the glowing bars, 
Murmur, a little sadly, how Love fled 
And paced upon the mountains overhead 
And hid his face amid a crowd of stars. 
– By William Butler Yeats



  当你年老时 
　　 　...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/Apply-UK-Visit-VISA" rel="permalink">Apply UK Visit VISA
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Background

I was planning to attend #adskfootball2019 in Dublin, Ireland from Jun 14th to Jun 16th, 2019:

    
    Autodesk Football Tournament 2019


In order to attend, I needed applying Ireland VISA, and since I was planning to fly back to Shanghai later in June, so I thought I could just fly from SF to Dublin, then Dublin to Shanghai, and soon I realized that there is no direct flight from DUB to PVG, so a practical (and also very fun and economic) option is to fly from Dublin to London, and then London to Shanghai, bingo ^_^

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/Master-AWS-Development-Video-Published" rel="permalink">Master AWS Development Video Published
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Course overview video



Publishing information

After 8 months of continuously hard working, this &lt;Master AWS Development&gt; video course is now live at: Packt Website, I described this course as below:


  Amazon Web Services (AWS) is the gold standard of the cloud. If you are web and cloud computing developer, your life becomes much easier by diving deeper into AWS.



  This course shows you how to use AWS services such as IAM, S3, EC2, and RDS/Dynamo to make your applications reliable and have a consistent performance. You’ll build modern serverless applications on the cloud, and u...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/self-improvement/passing-aws-certified-solutions-architect/" rel="permalink">Passing AWS Certified Solutions Architect
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">

3 years of AWS hands on experience, two months of preparation, 30 hours of course learning, 300+ exam practices, this was the work I’ve done to pass the AWS Certified Solutions Architect - Associate, my exam result is below:

</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4ea2897777c94202"></script>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="mailto:admin@wayneye.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
        
      
        
          <li><a href="https://wayneye.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
        
      
        
          <li><a href="https://twitter.com/wayneye" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://facebook.com/WayneYeDotCom" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
          <li><a href="https://github.com/WayneYe/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Wayne Ye. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>







    
  <script>
    var disqus_config = function () {
      this.page.url = "https://wayneye.com/12-Tips-To-Boost-RSpec-And-Cucumber";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/12-tips-to-boost-RSpect-and-Cucumber"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://wayneye.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
